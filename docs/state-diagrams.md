# Tweet Hours - State Machine Diagrams

> **Last Updated:** After Scraper Implementation (No API Required)

## Overview

This document maps out all states and transitions in the Twitter Activity Analyzer application.

---

## 1. Application State Machine (Main Flow)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APPLICATION STATES (Scraper Mode)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚    IDLE      â”‚
                              â”‚  (Initial)   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â”‚ User enters username
                                     â”‚ & clicks "Analyze"
                                     â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   LOADING    â”‚
                              â”‚  (Scraping)  â”‚
                              â”‚  10-20 sec   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                        â”‚                        â”‚
            â–¼                        â–¼                        â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  SUCCESS  â”‚           â”‚ NOT_FOUND â”‚           â”‚   TIMEOUT     â”‚
     â”‚ (Results) â”‚           â”‚   (404)   â”‚           â”‚    (504)      â”‚
     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                       â”‚                         â”‚
           â”‚                       â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚                       â”‚    â”‚                    â”‚
           â”‚                       â”‚    â”‚ Click         Clickâ”‚"Try Again"
           â”‚                       â”‚    â”‚ "Demo Data"        â”‚
           â”‚                       â–¼    â–¼                    â–¼
           â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚               â”‚  DEMO_MODE    â”‚          â”‚  RETRY    â”‚
           â”‚               â”‚ (Simulated)   â”‚          â”‚  (Loop)   â”‚
           â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
           â”‚                       â”‚                        â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ User searches new username
                                   â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚    IDLE      â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Backend API State Machine (Scraper Mode)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND API STATES (Scraper)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Request: GET /api/analyze/{username}?demo=false
                         â”‚
                         â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ VALIDATE_INPUTâ”‚
                 â”‚ (clean user)  â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ Empty?                â”‚ Not Empty
             â–¼                       â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   400 ERROR   â”‚       â”‚  CHECK_MODE   â”‚
     â”‚  "Username    â”‚       â”‚  demo=true?   â”‚
     â”‚   required"   â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ Demo Mode             â”‚ Scraper Mode
                         â–¼                       â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ GENERATE_DEMO â”‚       â”‚LAUNCH_BROWSER â”‚
                 â”‚  (random data)â”‚       â”‚ (Playwright)  â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚                       â”‚
                         â”‚                       â–¼
                         â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚               â”‚ NAVIGATE_TO   â”‚
                         â”‚               â”‚ twitter.com/  â”‚
                         â”‚               â”‚  {username}   â”‚
                         â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚                       â”‚
                         â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚           â”‚           â”‚           â”‚
                         â”‚           â–¼           â–¼           â–¼
                         â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   â”‚  SUCCESS  â”‚ â”‚404 USER  â”‚ â”‚ TIMEOUT  â”‚
                         â”‚   â”‚page loadedâ”‚ â”‚NOT FOUND â”‚ â”‚30s limit â”‚
                         â”‚   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚         â”‚
                         â”‚         â–¼
                         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ â”‚ SCRAPE_TWEETS â”‚
                         â”‚ â”‚ - Find tweets â”‚
                         â”‚ â”‚ - Extract timeâ”‚
                         â”‚ â”‚ - Scroll down â”‚
                         â”‚ â”‚ - Repeat x10  â”‚
                         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚         â”‚
                         â”‚         â–¼
                         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ â”‚CLOSE_BROWSER  â”‚
                         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚         â”‚
                         â”‚         â–¼
                         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ â”‚ANALYZE_DATA   â”‚
                         â”‚ â”‚ - Parse ISO   â”‚
                         â”‚ â”‚   datetime    â”‚
                         â”‚ â”‚ - Count hourlyâ”‚
                         â”‚ â”‚ - Count daily â”‚
                         â”‚ â”‚ - Build       â”‚
                         â”‚ â”‚   heatmap     â”‚
                         â”‚ â”‚ - Find peaks  â”‚
                         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚         â”‚
                         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚ RETURN_JSON   â”‚
                      â”‚ActivityResponseâ”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Scraper State Machine (Detailed)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PLAYWRIGHT SCRAPER STATES                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    START    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LAUNCH_CHROMIUM â”‚
â”‚   (headless)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CREATE_CONTEXT  â”‚
â”‚ - User agent    â”‚
â”‚ - Viewport      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   NEW_PAGE      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    NAVIGATE     â”‚â”€â”€â”€â”€â”€â”€â–ºâ”‚ TIMEOUT_ERROR   â”‚
â”‚ twitter.com/usr â”‚ fail  â”‚   (30 sec)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ success
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WAIT_LOAD     â”‚
â”‚   (2 seconds)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CHECK_EXISTS   â”‚â”€â”€â”€â”€â”€â”€â–ºâ”‚  USER_NOT_FOUND â”‚
â”‚ "doesn't exist" â”‚ found â”‚   or SUSPENDED  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ exists
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GET_PROFILE    â”‚
â”‚ - Display name  â”‚
â”‚ - Avatar URL    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FIND_TWEETS    â”‚                       â”‚
â”‚ article[tweet]  â”‚                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
         â”‚                                â”‚
         â–¼                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚ EXTRACT_TIMES   â”‚                       â”‚
â”‚ <time datetime> â”‚                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
         â”‚                                â”‚
         â–¼                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    < 50 tweets AND    â”‚
â”‚  CHECK_COUNT    â”‚â”€â”€â”€â”€< 10 scrolls â”€â”€â”€â”€â”€â”€â”˜
â”‚ tweets >= 50?   â”‚
â”‚ scrolls >= 10?  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ done
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CLOSE_BROWSER   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RETURN_RESULT   â”‚
â”‚ {success, data} â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Frontend UI State Machine

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FRONTEND UI STATES                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      PAGE_LOAD      â”‚
                    â”‚  - Init listeners   â”‚
                    â”‚  - Setup Chart.js   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    SEARCH_READY     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  - Input: enabled   â”‚                              â”‚
                    â”‚  - Button: Analyze  â”‚                              â”‚
                    â”‚  - Results: hidden  â”‚                              â”‚
                    â”‚  - Error: hidden    â”‚                              â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
                               â”‚                                         â”‚
                               â”‚ form submit                             â”‚
                               â–¼                                         â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
                    â”‚    SEARCHING        â”‚                              â”‚
                    â”‚  - Input: disabled  â”‚                              â”‚
                    â”‚  - Button: spinner  â”‚                              â”‚
                    â”‚  - Message shown:   â”‚                              â”‚
                    â”‚   "Scraping tweets  â”‚                              â”‚
                    â”‚    (10-20 sec)..."  â”‚                              â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
                               â”‚                                         â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
       â”‚                       â”‚                       â”‚                 â”‚
       â–¼                       â–¼                       â–¼                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚SHOW_RESULTS â”‚        â”‚SHOW_NOTFOUNDâ”‚        â”‚SHOW_TIMEOUT â”‚            â”‚
â”‚- Profile    â”‚        â”‚- Error msg  â”‚        â”‚- Error msg  â”‚            â”‚
â”‚- Heatmap    â”‚        â”‚- Demo btn   â”‚        â”‚- Retry btn  â”‚            â”‚
â”‚- Charts     â”‚        â”‚             â”‚        â”‚- Demo btn   â”‚            â”‚
â”‚- Peak times â”‚        â”‚             â”‚        â”‚             â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜            â”‚
       â”‚                      â”‚                      â”‚                   â”‚
       â”‚                      â”‚ click demo     click â”‚ retry             â”‚
       â”‚                      â–¼                      â”‚                   â”‚
       â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚                   â”‚
       â”‚              â”‚ LOAD_DEMO   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ click demo        â”‚
       â”‚              â”‚ ?demo=true  â”‚                                    â”‚
       â”‚              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
       â”‚                     â”‚                                           â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ new search
```

---

## 5. Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DATA FLOW (Scraper)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   BROWSER    â”‚      â”‚   FASTAPI    â”‚      â”‚  PLAYWRIGHT  â”‚      â”‚ TWITTER  â”‚
â”‚   (app.js)   â”‚      â”‚   (main.py)  â”‚      â”‚  (scraper)   â”‚      â”‚   WEB    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚                     â”‚                   â”‚
       â”‚  GET /api/analyze   â”‚                     â”‚                   â”‚
       â”‚  /{username}        â”‚                     â”‚                   â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                     â”‚                   â”‚
       â”‚                     â”‚                     â”‚                   â”‚
       â”‚                     â”‚ scrape_twitter_     â”‚                   â”‚
       â”‚                     â”‚ activity(username)  â”‚                   â”‚
       â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
       â”‚                     â”‚                     â”‚                   â”‚
       â”‚                     â”‚                     â”‚  Launch Chromium  â”‚
       â”‚                     â”‚                     â”‚  (headless)       â”‚
       â”‚                     â”‚                     â”‚                   â”‚
       â”‚                     â”‚                     â”‚  GET twitter.com/ â”‚
       â”‚                     â”‚                     â”‚  {username}       â”‚
       â”‚                     â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚                     â”‚                     â”‚                   â”‚
       â”‚                     â”‚                     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                     â”‚                     â”‚   HTML page       â”‚
       â”‚                     â”‚                     â”‚                   â”‚
       â”‚                     â”‚                     â”‚  Parse tweets     â”‚
       â”‚                     â”‚                     â”‚  Extract <time>   â”‚
       â”‚                     â”‚                     â”‚                   â”‚
       â”‚                     â”‚                     â”‚  Scroll & repeat  â”‚
       â”‚                     â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚                     â”‚                     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                     â”‚                     â”‚                   â”‚
       â”‚                     â”‚                     â”‚  Close browser    â”‚
       â”‚                     â”‚                     â”‚                   â”‚
       â”‚                     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚
       â”‚                     â”‚  {success, tweets}  â”‚                   â”‚
       â”‚                     â”‚                     â”‚                   â”‚
       â”‚                     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                   â”‚
       â”‚                     â”‚ â”‚ ANALYZE:        â”‚ â”‚                   â”‚
       â”‚                     â”‚ â”‚ - Parse ISO     â”‚ â”‚                   â”‚
       â”‚                     â”‚ â”‚   datetimes     â”‚ â”‚                   â”‚
       â”‚                     â”‚ â”‚ - UTC timezone  â”‚ â”‚                   â”‚
       â”‚                     â”‚ â”‚ - Count hourly  â”‚ â”‚                   â”‚
       â”‚                     â”‚ â”‚ - Count daily   â”‚ â”‚                   â”‚
       â”‚                     â”‚ â”‚ - Build heatmap â”‚ â”‚                   â”‚
       â”‚                     â”‚ â”‚ - Find peaks    â”‚ â”‚                   â”‚
       â”‚                     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                   â”‚
       â”‚                     â”‚                     â”‚                   â”‚
       â”‚  ActivityResponse   â”‚                     â”‚                   â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                     â”‚                   â”‚
       â”‚   (JSON)            â”‚                     â”‚                   â”‚
       â”‚                     â”‚                     â”‚                   â”‚
       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                     â”‚                   â”‚
       â”‚ â”‚ RENDER:         â”‚ â”‚                     â”‚                   â”‚
       â”‚ â”‚ - Profile card  â”‚ â”‚                     â”‚                   â”‚
       â”‚ â”‚ - Heatmap 7x24  â”‚ â”‚                     â”‚                   â”‚
       â”‚ â”‚ - Chart.js bars â”‚ â”‚                     â”‚                   â”‚
       â”‚ â”‚ - Peak lists    â”‚ â”‚                     â”‚                   â”‚
       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                     â”‚                   â”‚
       â”‚                     â”‚                     â”‚                   â”‚
```

---

## 6. Error Handling State Machine

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ERROR HANDLING STATES                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         Scraper Result
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚               â”‚               â”‚               â”‚
              â–¼               â–¼               â–¼               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ SUCCESS  â”‚   â”‚   404    â”‚   â”‚   504    â”‚   â”‚   500    â”‚
        â”‚ tweets>0 â”‚   â”‚Not Found â”‚   â”‚ Timeout  â”‚   â”‚  Error   â”‚
        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
             â”‚              â”‚              â”‚              â”‚
             â–¼              â–¼              â–¼              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Display  â”‚   â”‚  Show    â”‚   â”‚  Show    â”‚   â”‚  Show    â”‚
        â”‚ Results  â”‚   â”‚ "User    â”‚   â”‚ "Request â”‚   â”‚ "Error   â”‚
        â”‚ - Charts â”‚   â”‚  not     â”‚   â”‚  timed   â”‚   â”‚  message"â”‚
        â”‚ - Heatmapâ”‚   â”‚  found"  â”‚   â”‚  out"    â”‚   â”‚          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚              â”‚
                            â–¼              â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚     User Options        â”‚
                       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
                       â”‚  â”‚ [Demo Data] btn â”‚    â”‚
                       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
                       â”‚  â”‚ [Try Again] btn â”‚    â”‚ (timeout only)
                       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. Component Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        COMPONENT HIERARCHY                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

index.html
â”‚
â”œâ”€â”€ Header
â”‚   â”œâ”€â”€ Logo (icon + text)
â”‚   â”‚   â”œâ”€â”€ Clock SVG icon
â”‚   â”‚   â”œâ”€â”€ "Tweet Hours" title
â”‚   â”‚   â””â”€â”€ "Activity Analyzer" subtitle
â”‚   â”‚
â”‚   â””â”€â”€ Status Badge
â”‚       â”œâ”€â”€ Pulsing dot (green)
â”‚       â””â”€â”€ "No API Needed" text
â”‚
â”œâ”€â”€ Main Content
â”‚   â”‚
â”‚   â”œâ”€â”€ Search Section
â”‚   â”‚   â”œâ”€â”€ Headline ("Discover when any...")
â”‚   â”‚   â”œâ”€â”€ Gradient Text ("Twitter account")
â”‚   â”‚   â”œâ”€â”€ Subheadline
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Search Form
â”‚   â”‚   â”‚   â”œâ”€â”€ Input Wrapper
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ @ Symbol
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Username Input
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Analyze Button
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ Button Text
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ Loader Spinner (hidden)
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ Loading Message (dynamic)
â”‚   â”‚   â”‚       â””â”€â”€ "Scraping tweets (10-20 sec)..."
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ Quick Search Buttons
â”‚   â”‚       â”œâ”€â”€ "elonmusk"
â”‚   â”‚       â”œâ”€â”€ "github"
â”‚   â”‚       â””â”€â”€ "naval"
â”‚   â”‚
â”‚   â”œâ”€â”€ Results Section [hidden by default]
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Profile Card
â”‚   â”‚   â”‚   â”œâ”€â”€ Profile Info
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Avatar Image
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Display Name
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ @username Handle
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ Stats Mini
â”‚   â”‚   â”‚       â”œâ”€â”€ Tweets Count (gradient)
â”‚   â”‚   â”‚       â””â”€â”€ "Tweets Analyzed" label
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ Charts Grid (2x2)
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ Heatmap Card [spans 2 columns]
â”‚   â”‚       â”‚   â”œâ”€â”€ Header
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ "Activity Heatmap" title
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ Timezone Badge ("UTC")
â”‚   â”‚       â”‚   â”‚
â”‚   â”‚       â”‚   â”œâ”€â”€ Heatmap Container
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Y-Labels (Mon-Sun)
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Heatmap Grid (7 rows Ã— 24 cols)
â”‚   â”‚       â”‚   â”‚   â”‚   â””â”€â”€ Cells with intensity levels 0-4
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ X-Labels (12am, 6am, 12pm, 6pm, 11pm)
â”‚   â”‚       â”‚   â”‚
â”‚   â”‚       â”‚   â””â”€â”€ Legend
â”‚   â”‚       â”‚       â”œâ”€â”€ "Less" text
â”‚   â”‚       â”‚       â”œâ”€â”€ 5 colored squares
â”‚   â”‚       â”‚       â””â”€â”€ "More" text
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ Peaks Card
â”‚   â”‚       â”‚   â”œâ”€â”€ Peak Hours Section
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ "ğŸ”¥ Most Active Hours" title
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ Peak Items (rank, time, count)
â”‚   â”‚       â”‚   â”‚
â”‚   â”‚       â”‚   â””â”€â”€ Peak Days Section
â”‚   â”‚       â”‚       â”œâ”€â”€ "ğŸ“… Most Active Days" title
â”‚   â”‚       â”‚       â””â”€â”€ Peak Items (rank, day, count)
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ Hourly Chart Card
â”‚   â”‚       â”‚   â”œâ”€â”€ "Hourly Distribution" header
â”‚   â”‚       â”‚   â””â”€â”€ Chart.js Bar Chart (24 bars)
â”‚   â”‚       â”‚
â”‚   â”‚       â””â”€â”€ Daily Chart Card
â”‚   â”‚           â”œâ”€â”€ "Daily Distribution" header
â”‚   â”‚           â””â”€â”€ Chart.js Bar Chart (7 bars)
â”‚   â”‚
â”‚   â””â”€â”€ Error Message [hidden by default]
â”‚       â”œâ”€â”€ Error Icon (emoji)
â”‚       â”œâ”€â”€ Error Title
â”‚       â”œâ”€â”€ Error Description
â”‚       â””â”€â”€ Action Buttons
â”‚           â”œâ”€â”€ [Try Again] (timeout only)
â”‚           â””â”€â”€ [View Demo Data]
â”‚
â””â”€â”€ Footer
    â””â”€â”€ "Scrapes public Twitter profiles directly â€” No API key required"
```

---

## 8. File Structure Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          PROJECT FILE STRUCTURE                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

E:\deployert\witter-activity\
â”‚
â”œâ”€â”€ main.py                 â† FastAPI application entry point
â”‚   â”œâ”€â”€ ActivityResponse    â† Pydantic response model
â”‚   â”œâ”€â”€ generate_demo_data  â† Creates simulated data
â”‚   â”œâ”€â”€ fetch_via_scraper   â† Calls scraper module
â”‚   â””â”€â”€ Routes:
â”‚       â”œâ”€â”€ GET /           â† Serves index.html
â”‚       â”œâ”€â”€ GET /api/analyze/{username}
â”‚       â””â”€â”€ GET /api/status
â”‚
â”œâ”€â”€ scraper.py              â† Playwright scraper module
â”‚   â”œâ”€â”€ scrape_twitter_activity()  â† Main scraper function
â”‚   â””â”€â”€ analyze_scraped_data()     â† Timestamp analysis
â”‚
â”œâ”€â”€ requirements.txt        â† Python dependencies
â”‚   â”œâ”€â”€ fastapi, uvicorn
â”‚   â”œâ”€â”€ playwright
â”‚   â”œâ”€â”€ beautifulsoup4
â”‚   â””â”€â”€ jinja2, python-dotenv
â”‚
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html          â† Main HTML template (Jinja2)
â”‚
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css       â† All styling (dark theme)
â”‚   â”‚
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ app.js          â† Frontend JavaScript
â”‚           â”œâ”€â”€ handleSearch()
â”‚           â”œâ”€â”€ displayResults()
â”‚           â”œâ”€â”€ renderHeatmap()
â”‚           â”œâ”€â”€ renderPeakTimes()
â”‚           â”œâ”€â”€ renderHourlyChart()
â”‚           â””â”€â”€ renderDailyChart()
â”‚
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ state-diagrams.md   â† This file
â”‚
â”œâ”€â”€ .env.example            â† Environment template (optional now)
â””â”€â”€ README.md               â† Project documentation
```

---

## Summary Table

| Diagram | Description |
|---------|-------------|
| 1. App States | User journey from idle â†’ loading â†’ results/error |
| 2. Backend API | Request processing through FastAPI |
| 3. Scraper States | Playwright browser automation flow |
| 4. Frontend UI | Component visibility and interactions |
| 5. Data Flow | How data moves between all systems |
| 6. Error Handling | All error types and recovery options |
| 7. Components | Visual hierarchy of HTML elements |
| 8. File Structure | Project files and their purposes |

---

## Timezone Note

All timestamps are in **UTC (Coordinated Universal Time)**:
- Twitter stores all tweet times in UTC
- The heatmap displays hours 0-23 in UTC
- To convert: Your Local Time = UTC + Your Timezone Offset
  - Brazil (BRT): UTC - 3
  - US East (EST): UTC - 5
  - US West (PST): UTC - 8
  - Europe (CET): UTC + 1
